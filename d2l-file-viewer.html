<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../d2l-video/d2l-video.html">
<link rel="import" href="./d2l-pdf-viewer.html">

<dom-module id="d2l-file-viewer">
	<template strip-whitespace>
		<style>
			:host {
				display: inline-block;
				overflow: auto;
			}
		</style>
		<body>
			<template is="dom-if" if="[[_showVideo]]">
				<d2l-video src="[[fileSrc]]" auto-load></d2l-video>
			</template>
			<template is="dom-if" if="[[_showImage]]">
				<div><img ref="image" src="[[fileSrc]]"></div>
			</template>
			<template is="dom-if" if="[[_showPDF]]">
				<d2l-pdf-viewer file-src="[[fileSrc]]"></d2l-pdf-viewer>
			</template>
		</body>
	</template>
	<script>
		/**
		 * `<d2l-file-viewer>`
		 *
		 * @customElement
		 * @polymer
		 * @demo demo/index.hmtl
		 */
		Polymer({
			is: 'd2l-file-viewer',
			properties: {
				fileType: {
					type: String,
					observer: 'onFileTypeChanged'
				},
				fileSrc: {
					type: String
				},
				_showVideo: {
					type:Boolean,
					value: false
				},
				_showImage: {
					type:Boolean,
					value: false
				},
				_showPDF: {
					type:Boolean,
					value: false
				}
			},
			onFileTypeChanged: function(fileType) {
				this._showPDF = false;
				this._showImage = false;
				this._showVideo = false;

				switch (fileType) {
					case 'pdf':
						this._showPDF = true;
						break;

					case 'img':
						this._showImage = true;
						break;

					case 'video':
						this._showVideo = true;
						break;

					default:
						break;
				}
			}
		});
	</script>
</dom-module>
